import csv
from collections import Counter
from collections import OrderedDict
i=0
l=[]
hostname=''
with open('/Users/mala0858/Downloads/reportPROD27jan2018.csv',newline='') as csvfile:
    reader = csv.DictReader(csvfile)
    for row in reader:
        print(row['sites'],row['proof'])
        hostname = row['proof'].strip()+row['host_name'].strip()
        l.append(hostname)
        i+=1
        hostname=''
res=Counter(l)

print(l)
print('---------------------------------------------------------------------------------')
print('MALAY')
print('---------------------------------------------------------------------------------')
#print(res)
file = open("vulnCompare27jan2018PRODhostname.txt","w")
v=0
d_sorted_by_value = OrderedDict(sorted(res.items(), key=lambda x: x[1], reverse=True))
for key,val in d_sorted_by_value.items():
    print(key,'-----',val)
    x=key+','+str(val)
    v=v+val
    file.write(x)
    file.write('\n')
file.write(str(v))
file.close()
print(v)

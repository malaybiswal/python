import csv
from collections import Counter
from collections import OrderedDict
i=0
l=[]
hostname=''
with open('/Users/mala0858/Downloads/TESReport_01282018_TVA.csv',newline='') as csvfile:
    reader = csv.DictReader(csvfile)
    for row in reader:
        #print(row['sites'],row['proof'])
        sites=row['site'].strip()
        if(sites=='TES - Oracle EBS/Fusion Prod'):
            #rows=row['proof'].strip()
            #rows1=rows.split()'.'
            hostname = row['proof'].strip()+','+row['host_name'].strip()
            l.append(hostname)
            #l.append(hostname)
            i+=1
        #hostname=''
res=Counter(l)

print(l)
print('---------------------------------------------------------------------------------')
print('MALAY')
print('---------------------------------------------------------------------------------')
#print(res)
file = open("vulnCompare27jan2018PRODAnthonyHostName.txt","w")
v=0
d_sorted_by_value = OrderedDict(sorted(res.items(), key=lambda x: x[1], reverse=True))
for key,val in d_sorted_by_value.items():
    print(key,'-----',val)
    x=key+','+str(val)
    v=v+val
    file.write(x)
    file.write('\n')
file.write(str(v))
file.close()
print(v)
